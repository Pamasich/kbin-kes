#Placeholder logic for updated auto masthead generation, cf. #255

count=$(ls -1 $PWD/mods | wc -l)
i=1
echo "const funcObj = {"
for f in $(find $PWD/mods -name "*.js" -printf "%f\n"); do
    echo ""
	mod=$(<<< "$f" awk -F. '{print $1}')
	printf "    %s:\n" $mod
    echo ""
	awk '{print (NF ? "    " $0 : $0)}' $PWD/mods/$mod/$f
    [[ $i -ne $count ]] && echo ","
    i=$((i+1))
done
echo "}"
